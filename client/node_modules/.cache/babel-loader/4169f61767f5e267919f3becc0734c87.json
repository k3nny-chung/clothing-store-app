{"ast":null,"code":"const INITIAL_STATE = {\n  cartDropdownHidden: true,\n  cartItems: []\n};\n\nconst addToCart = (cartItems, itemToAdd) => {\n  const existingItem = cartItems.find(item => item.id === itemToAdd.id);\n\n  if (existingItem) {\n    return cartItems.map(item => {\n      if (item === existingItem) {\n        return { ...existingItem,\n          quantity: existingItem.quantity + 1\n        };\n      }\n\n      return item;\n    });\n  }\n\n  return [...cartItems, { ...itemToAdd,\n    quantity: 1\n  }];\n};\n\nconst removeFromCart = (cartItems, itemToRemove) => {\n  const itemIndex = cartItems.findIndex(item => item.id === itemToRemove.id);\n\n  if (itemIndex < 0) {\n    return cartItems;\n  }\n\n  const existingItem = { ...itemToRemove,\n    quantity: itemToRemove.quantity - 1\n  };\n\n  if (existingItem.quantity === 0) {\n    return [...cartItems.slice(0, itemIndex), ...cartItems.slice(itemIndex + 1)];\n  } else {\n    return [...cartItems.slice(0, itemIndex), existingItem, ...cartItems.slice(itemIndex + 1)];\n  }\n};\n\nconst cartReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case 'TOGGLE_CART_DROPDOWN':\n      return { ...state,\n        cartDropdownHidden: !state.cartDropdownHidden\n      };\n\n    case 'ADD_CART_ITEM':\n      return { ...state,\n        cartItems: addToCart(state.cartItems, action.payload)\n      };\n\n    case 'CLEAR_CART_ITEM':\n      return { ...state,\n        cartItems: state.cartItems.filter(item => item.id !== action.payload.id)\n      };\n\n    case 'REMOVE_CART_ITEM':\n      return { ...state,\n        cartItems: removeFromCart(state.cartItems, action.payload)\n      };\n\n    case 'CLEAR_CART':\n      return { ...state,\n        cartItems: []\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/kennethchung/develop/clothing-store-app/src/redux/cart/cart.reducer.js"],"names":["INITIAL_STATE","cartDropdownHidden","cartItems","addToCart","itemToAdd","existingItem","find","item","id","map","quantity","removeFromCart","itemToRemove","itemIndex","findIndex","slice","cartReducer","state","action","type","payload","filter"],"mappings":"AAAA,MAAMA,aAAa,GAAG;AAClBC,EAAAA,kBAAkB,EAAG,IADH;AAElBC,EAAAA,SAAS,EAAE;AAFO,CAAtB;;AAKA,MAAMC,SAAS,GAAG,CAACD,SAAD,EAAYE,SAAZ,KAA0B;AACxC,QAAMC,YAAY,GAAGH,SAAS,CAACI,IAAV,CAAeC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,SAAS,CAACI,EAA7C,CAArB;;AACA,MAAIH,YAAJ,EAAkB;AACd,WAAOH,SAAS,CAACO,GAAV,CAAcF,IAAI,IAAI;AACzB,UAAIA,IAAI,KAAKF,YAAb,EAA2B;AACvB,eAAO,EAAE,GAAGA,YAAL;AAAmBK,UAAAA,QAAQ,EAAEL,YAAY,CAACK,QAAb,GAAwB;AAArD,SAAP;AACH;;AAED,aAAOH,IAAP;AACH,KANM,CAAP;AAOH;;AAED,SAAO,CAAC,GAAGL,SAAJ,EAAe,EAAE,GAAGE,SAAL;AAAgBM,IAAAA,QAAQ,EAAE;AAA1B,GAAf,CAAP;AACH,CAbD;;AAeA,MAAMC,cAAc,GAAG,CAACT,SAAD,EAAYU,YAAZ,KAA6B;AAChD,QAAMC,SAAS,GAAGX,SAAS,CAACY,SAAV,CAAoBP,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYI,YAAY,CAACJ,EAArD,CAAlB;;AACA,MAAIK,SAAS,GAAG,CAAhB,EAAmB;AACf,WAAOX,SAAP;AACH;;AAED,QAAMG,YAAY,GAAG,EACjB,GAAGO,YADc;AAEjBF,IAAAA,QAAQ,EAAEE,YAAY,CAACF,QAAb,GAAwB;AAFjB,GAArB;;AAKA,MAAIL,YAAY,CAACK,QAAb,KAA0B,CAA9B,EAAiC;AAC7B,WAAO,CACH,GAAGR,SAAS,CAACa,KAAV,CAAgB,CAAhB,EAAmBF,SAAnB,CADA,EAEH,GAAGX,SAAS,CAACa,KAAV,CAAgBF,SAAS,GAAG,CAA5B,CAFA,CAAP;AAIH,GALD,MAKO;AACH,WAAO,CACH,GAAGX,SAAS,CAACa,KAAV,CAAgB,CAAhB,EAAmBF,SAAnB,CADA,EAEHR,YAFG,EAGH,GAAGH,SAAS,CAACa,KAAV,CAAgBF,SAAS,GAAG,CAA5B,CAHA,CAAP;AAKH;AACJ,CAvBD;;AAyBA,MAAMG,WAAW,GAAG,CAACC,KAAK,GAAGjB,aAAT,EAAwBkB,MAAxB,KAAmC;AACnD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,sBAAL;AACI,aAAO,EACH,GAAGF,KADA;AAEHhB,QAAAA,kBAAkB,EAAE,CAACgB,KAAK,CAAChB;AAFxB,OAAP;;AAIJ,SAAK,eAAL;AACI,aAAO,EACH,GAAGgB,KADA;AAEHf,QAAAA,SAAS,EAAEC,SAAS,CAACc,KAAK,CAACf,SAAP,EAAkBgB,MAAM,CAACE,OAAzB;AAFjB,OAAP;;AAIJ,SAAK,iBAAL;AACI,aAAO,EACH,GAAGH,KADA;AAEHf,QAAAA,SAAS,EAAEe,KAAK,CAACf,SAAN,CAAgBmB,MAAhB,CAAuBd,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYU,MAAM,CAACE,OAAP,CAAeZ,EAA1D;AAFR,OAAP;;AAIJ,SAAK,kBAAL;AACI,aAAO,EACH,GAAGS,KADA;AAEHf,QAAAA,SAAS,EAAES,cAAc,CAACM,KAAK,CAACf,SAAP,EAAkBgB,MAAM,CAACE,OAAzB;AAFtB,OAAP;;AAIJ,SAAK,YAAL;AACI,aAAO,EACH,GAAGH,KADA;AAEHf,QAAAA,SAAS,EAAE;AAFR,OAAP;;AAIJ;AACI,aAAOe,KAAP;AA3BR;AA6BH,CA9BD;;AAgCA,eAAeD,WAAf","sourcesContent":["const INITIAL_STATE = {\n    cartDropdownHidden : true,\n    cartItems: []\n};\n\nconst addToCart = (cartItems, itemToAdd) => {\n    const existingItem = cartItems.find(item => item.id === itemToAdd.id);\n    if (existingItem) {\n        return cartItems.map(item => {\n            if (item === existingItem) {\n                return { ...existingItem, quantity: existingItem.quantity + 1 }\n            }\n\n            return item;\n        });\n    }\n\n    return [...cartItems, { ...itemToAdd, quantity: 1 }];\n}\n\nconst removeFromCart = (cartItems, itemToRemove) => {\n    const itemIndex = cartItems.findIndex(item => item.id === itemToRemove.id);\n    if (itemIndex < 0) {\n        return cartItems;\n    }\n\n    const existingItem = { \n        ...itemToRemove, \n        quantity: itemToRemove.quantity - 1 \n    };\n\n    if (existingItem.quantity === 0) {\n        return [\n            ...cartItems.slice(0, itemIndex), \n            ...cartItems.slice(itemIndex + 1)\n        ];\n    } else {\n        return [\n            ...cartItems.slice(0, itemIndex),\n            existingItem,\n            ...cartItems.slice(itemIndex + 1) \n        ];\n    }\n}\n\nconst cartReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case 'TOGGLE_CART_DROPDOWN':\n            return {\n                ...state,\n                cartDropdownHidden: !state.cartDropdownHidden\n            }\n        case 'ADD_CART_ITEM':\n            return {\n                ...state,\n                cartItems: addToCart(state.cartItems, action.payload)\n            }\n        case 'CLEAR_CART_ITEM':\n            return {\n                ...state,\n                cartItems: state.cartItems.filter(item => item.id !== action.payload.id)\n            }\n        case 'REMOVE_CART_ITEM':\n            return {\n                ...state,\n                cartItems: removeFromCart(state.cartItems, action.payload)\n            }\n        case 'CLEAR_CART':\n            return {\n                ...state,\n                cartItems: []\n            }    \n        default:\n            return state;\n    }\n};\n\nexport default cartReducer;"]},"metadata":{},"sourceType":"module"}