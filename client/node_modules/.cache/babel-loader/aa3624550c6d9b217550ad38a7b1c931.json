{"ast":null,"code":"export const fetchShopDataStart = () => ({\n  type: 'FETCH_SHOP_DATA_START'\n});\nexport const fetchShopDataSuccess = collections => ({\n  type: 'FETCH_SHOP_DATA_SUCCESS',\n  payload: collections\n});\nexport const fetchShopDataFailure = error => ({\n  type: 'FETCH_SHOP_DATA_ERROR',\n  payload: error\n});\nexport const fetchShopDataAsync = () => {\n  return async dispatch => {\n    dispatch(fetchShopDataStart);\n\n    try {\n      const querySnapshot = await firestore.collection('storeCollections').get();\n    } catch (error) {\n      dispatch(fetchShopDataFailure(error.message));\n    }\n\n    const transformedData = querySnapshot.docs.map(doc => {\n      const {\n        title,\n        items\n      } = doc.data();\n      return {\n        id: doc.id,\n        title,\n        items,\n        routeName: encodeURI(title).toLowerCase()\n      };\n    });\n    dispatch(fetchShopDataSuccess);\n    return transformedData.reduce((hashTable, current) => {\n      hashTable[current.title.toLowerCase()] = current;\n      return hashTable;\n    }, {});\n  };\n};","map":{"version":3,"sources":["/Users/kennethchung/develop/clothing-store-app/src/redux/shop/shop.actions.js"],"names":["fetchShopDataStart","type","fetchShopDataSuccess","collections","payload","fetchShopDataFailure","error","fetchShopDataAsync","dispatch","querySnapshot","firestore","collection","get","message","transformedData","docs","map","doc","title","items","data","id","routeName","encodeURI","toLowerCase","reduce","hashTable","current"],"mappings":"AAAA,OAAO,MAAMA,kBAAkB,GAAG,OAAO;AACrCC,EAAAA,IAAI,EAAE;AAD+B,CAAP,CAA3B;AAIP,OAAO,MAAMC,oBAAoB,GAAIC,WAAD,KAAkB;AAClDF,EAAAA,IAAI,EAAE,yBAD4C;AAElDG,EAAAA,OAAO,EAAED;AAFyC,CAAlB,CAA7B;AAKP,OAAO,MAAME,oBAAoB,GAAIC,KAAD,KAAY;AAC5CL,EAAAA,IAAI,EAAE,uBADsC;AAE5CG,EAAAA,OAAO,EAAEE;AAFmC,CAAZ,CAA7B;AAKP,OAAO,MAAMC,kBAAkB,GAAG,MAAM;AACpC,SAAO,MAAOC,QAAP,IAAoB;AACvBA,IAAAA,QAAQ,CAACR,kBAAD,CAAR;;AAEA,QAAI;AACA,YAAMS,aAAa,GAAG,MAAMC,SAAS,CAACC,UAAV,CAAqB,kBAArB,EAAyCC,GAAzC,EAA5B;AACH,KAFD,CAEE,OAAON,KAAP,EAAc;AACZE,MAAAA,QAAQ,CAACH,oBAAoB,CAACC,KAAK,CAACO,OAAP,CAArB,CAAR;AACH;;AAED,UAAMC,eAAe,GAAGL,aAAa,CAACM,IAAd,CAAmBC,GAAnB,CAAwBC,GAAG,IAAI;AACnD,YAAM;AAAEC,QAAAA,KAAF;AAASC,QAAAA;AAAT,UAAmBF,GAAG,CAACG,IAAJ,EAAzB;AACA,aAAO;AACHC,QAAAA,EAAE,EAAEJ,GAAG,CAACI,EADL;AAEHH,QAAAA,KAFG;AAGHC,QAAAA,KAHG;AAIHG,QAAAA,SAAS,EAAEC,SAAS,CAACL,KAAD,CAAT,CAAiBM,WAAjB;AAJR,OAAP;AAMH,KARuB,CAAxB;AAUAhB,IAAAA,QAAQ,CAACN,oBAAD,CAAR;AAEA,WAAOY,eAAe,CAACW,MAAhB,CAAwB,CAACC,SAAD,EAAYC,OAAZ,KAAwB;AACnDD,MAAAA,SAAS,CAACC,OAAO,CAACT,KAAR,CAAcM,WAAd,EAAD,CAAT,GAAyCG,OAAzC;AACA,aAAOD,SAAP;AACH,KAHM,EAGJ,EAHI,CAAP;AAIH,GAzBD;AA0BH,CA3BM","sourcesContent":["export const fetchShopDataStart = () => ({\n    type: 'FETCH_SHOP_DATA_START'\n});\n\nexport const fetchShopDataSuccess = (collections) => ({\n    type: 'FETCH_SHOP_DATA_SUCCESS',\n    payload: collections\n});\n\nexport const fetchShopDataFailure = (error) => ({\n    type: 'FETCH_SHOP_DATA_ERROR',\n    payload: error\n});\n\nexport const fetchShopDataAsync = () => {\n    return async (dispatch) => {\n        dispatch(fetchShopDataStart);\n        \n        try {\n            const querySnapshot = await firestore.collection('storeCollections').get();\n        } catch (error) {\n            dispatch(fetchShopDataFailure(error.message));\n        }\n\n        const transformedData = querySnapshot.docs.map( doc => {\n            const { title, items } = doc.data();\n            return {\n                id: doc.id,\n                title,\n                items,\n                routeName: encodeURI(title).toLowerCase()\n            };\n        });\n\n        dispatch(fetchShopDataSuccess);\n\n        return transformedData.reduce( (hashTable, current) => {\n            hashTable[current.title.toLowerCase()] = current;\n            return hashTable;\n        }, {});\n    }\n};"]},"metadata":{},"sourceType":"module"}